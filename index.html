<!DOCTYPE html>
<html>

<head>
    <title>GeoMapper</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />

    <link rel="stylesheet" type="text/css" href="index.css">

    <script src="./marker.js"></script>
    <script src="./input.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
        crossorigin=""></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
</head>

<body>
    <h1>GeoMapper</h1>

    <p>Please upload a valid CSV file using the button below. At a minumum the file needs to contain two columns titled
        <i>Shipping Address 1</i> and <i>Shipping City</i>.</p>
    <input type=file id='file' onchange="startRead()" />

    <div id="warning-section" style="display:none">
        <p><strong>Warning!</strong> The following addresses could not be located:</p>
        <div id="warning-list"></div>
    </div>

    <div id="map"></div>

    <p>Open Source! Source code available at: <a href="https://github.com/Sundin/GeoMapper">https://github.com/Sundin/GeoMapper</a></p>

    <script>
        var map = L.map('map').setView([55.5, 7.5], 4);

        var geocoder = L.Control.Geocoder.nominatim(),
            control = L.Control.geocoder({
                geocoder: geocoder
            }).addTo(map),
            marker;

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox.streets'
        }).addTo(map);
    </script>
</body>

</html>